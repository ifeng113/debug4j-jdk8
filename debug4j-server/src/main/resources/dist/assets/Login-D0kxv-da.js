import{_ as f,r as u,c as y,o as k,w as a,a as r,b as n,d as p,e as t}from"./index-0sD2Tir4.js";import{a as b,d as h}from"./api-CRUSTNoD.js";import{w as i}from"./webStorage-CD_LUw1r.js";import{_ as x}from"./logo--sImDoQO.js";const v=new h,V={setup(){i.getItem("token")!==void 0&&u.push("/index")},data(){return{username:"",password:""}},mounted(){window.addEventListener("keydown",this.handleGlobalEnter)},unmounted(){window.removeEventListener("keydown",this.handleGlobalEnter)},methods:{handleGlobalEnter(o){o.key==="Enter"&&this.login()},login(){if(this.username!==""&&this.password!==""){const o=btoa(this.username+":"+this.password);i.setItem("token",o),b.getClients().then(()=>{let e=`id-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;i.setItem("loginId",e),u.push("/index")}).catch(e=>{console.log(e)})}else v.warning("Token invalid, 请输入用户名密码！")}}},E={class:"outer-wrap"},I={class:"login-panel"};function C(o,e,L,B,s,m){const _=t("lay-quote"),d=t("lay-input"),c=t("lay-button"),g=t("lay-panel"),w=t("lay-container");return k(),y(w,null,{default:a(()=>[r("div",E,[r("div",I,[e[5]||(e[5]=r("img",{src:x,alt:"Logo"},null,-1)),n(g,null,{default:a(()=>[n(_,{style:{"text-align":"left"}},{default:a(()=>e[3]||(e[3]=[p("Debug4j 一款高效、便捷的 Java 调试工具。")])),_:1}),n(d,{class:"login_input","prefix-icon":"layui-icon-user",placeholder:"用户名",modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.username=l)},null,8,["modelValue"]),n(d,{class:"login_input","prefix-icon":"layui-icon-password",placeholder:"密码",modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l),type:"password",password:""},null,8,["modelValue"]),n(c,{class:"login_btn",type:"primary",onClick:e[2]||(e[2]=l=>m.login())},{default:a(()=>e[4]||(e[4]=[p("进入")])),_:1})]),_:1})])])]),_:1})}const D=f(V,[["render",C]]);export{D as default};
